version: 2

models:
  - name: stg_market_data
    description: "Staging view for raw market data from public.market_data."
    columns:
      - name: symbol
        description: "Ticker symbol."
        tests:
          - not_null
      - name: datetime_utc
        description: "Timestamp (timestamptz)."
        tests:
          - not_null
      - name: open
        description: "Open price."
      - name: high
        description: "High price."
      - name: low
        description: "Low price."
      - name: close
        description: "Close price."
      - name: volume
        description: "Trade volume."
    tests:
      - dbt_utils.unique_combination_of_columns:
          arguments:
            combination_of_columns:
              - symbol
              - datetime_utc

